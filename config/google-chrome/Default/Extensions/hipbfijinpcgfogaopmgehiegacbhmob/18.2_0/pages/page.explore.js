"use strict";(function(){var b=devhd.pkg("pages");var d=devhd.i18n.L;var c=devhd.log.get("page.explore");b.ExplorePage=function(){};var a=b.ExplorePage.prototype=new b.BasePage();a.service=function(f,e){this.pageInfo=f;this.width=e.width;this.initBase(e);this.startRenderHTML();this.sectionMap={}};a.destroy=function(){this.destroyBase()};a.allowsSideArea=function(){return false
};a.allowsPageHeader=function(){return true};a.allowsRefresh=function(){return false};a.startRenderHTML=function(){try{this.state="loading";this._cancelAllVisualFinders();this.entryIndex={};this.endOfList=null;this.state="loading";this.feedly.pushContext({uri:this.pageInfo.uri,title:"explore",pageNumber:0,level:1,category:"#explore"});this.feedly.setPageTitle(templates.page.explore.title(this.pageInfo.key));
var f=this;f.suggesto.askEssentials({alpha:false,language:f.pageInfo.key},function(j,k){var l=[];for(var e=0;e<j.length;e++){if(j[e].showcased!=true){continue}if(j[e].excluded==true){continue}l.push(j[e])}f.pageElem.innerHTML=templates.page.explore.layout(l);f.feedly.setPageTitle(templates.page.explore.title(k))})}catch(g){var h=devhd.utils.ExceptionUtils.formatError("render explore page",g);
$feedly("[explore page] "+h);this.pageElem.innerHTML=h}};a.onSubscriptionAdded=function(f,e,j){var h=devhd.utils.HTMLUtils.findElements(this.pageElem,{className:"followHolder","data-feedId":f});for(var g=0;g<h.length;g++){h[g].innerHTML=templates.page.explore.follow(f,true)}};a.onSubscriptionRemoved=function(e){var g=devhd.utils.HTMLUtils.findElements(this.pageElem,{className:"followHolder","data-feedId":e});
for(var f=0;f<g.length;f++){g[f].innerHTML=templates.page.explore.follow(e,false)}}})();